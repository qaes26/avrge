<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اختبار مبادئ الاقتصاد الجزئي | قيس الجازي</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-bg: #f8f9fa;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light-bg);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        header {
            text-align: center;
            border-bottom: 3px solid var(--secondary-color);
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        h1 { color: var(--primary-color); margin-bottom: 10px; }
        .subtitle { color: #7f8c8d; font-size: 1.1em; font-weight: bold; }
        
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            gap: 10px;
        }
        .tab-btn {
            padding: 10px 20px;
            border: none;
            background: #eee;
            cursor: pointer;
            border-radius: 5px;
            font-size: 1.1em;
            font-weight: bold;
            transition: 0.3s;
        }
        .tab-btn.active {
            background: var(--secondary-color);
            color: white;
        }
        
        .section { display: none; }
        .section.active { display: block; }
        
        .question-card {
            background: #fff;
            border: 1px solid #ddd;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            border-right: 5px solid var(--secondary-color);
        }
        .question-text {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: var(--primary-color);
            font-weight: bold;
        }
        .options label {
            display: block;
            margin-bottom: 10px;
            padding: 10px;
            background: #fdfdfd;
            border: 1px solid #eee;
            border-radius: 5px;
            cursor: pointer;
            transition: 0.2s;
        }
        .options label:hover { background: #f0f8ff; }
        .options input { margin-left: 10px; }
        
        .essay-answer {
            background: #f1f8e9;
            padding: 15px;
            border-radius: 5px;
            display: none;
            margin-top: 10px;
            color: #2e7d32;
            border: 1px solid #c5e1a5;
        }
        
        .btn {
            background: var(--secondary-color);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 20px;
            display: block;
            width: 100%;
        }
        .btn:hover { opacity: 0.9; }
        .btn-toggle { background: #95a5a6; margin-top: 10px; width: auto; display: inline-block;}
        
        .result-box {
            text-align: center;
            font-size: 1.5em;
            margin-top: 20px;
            padding: 20px;
            display: none;
            border-radius: 10px;
        }
        .correct { color: green; font-weight: bold; }
        .incorrect { color: red; font-weight: bold; }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #7f8c8d;
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>بنك أسئلة الاقتصاد الجزئي</h1>
        <div class="subtitle">مراجعة شاملة للمادة (80 سؤال)</div>
    </header>

    <div class="tabs">
        <button class="tab-btn active" onclick="showTab('mcq')">أسئلة اختيار من متعدد (60)</button>
        <button class="tab-btn" onclick="showTab('essay')">أسئلة مقالية وإنشائية (20)</button>
    </div>

    <div id="mcq" class="section active">
        <div id="mcq-container"></div>
        <button class="btn" onclick="gradeQuiz()">تصحيح الاختبار</button>
        <div id="result" class="result-box"></div>
    </div>

    <div id="essay" class="section">
        <div id="essay-container"></div>
    </div>

    <footer>
        <p>تم تصميم وبرمجة هذا الموقع بناءً على المادة العلمية المرفقة</p>
        <p><strong>من إعداد: قيس الجازي</strong></p>
        <p>&copy; 2026</p>
    </footer>
</div>

<script>
    // قاعدة بيانات الأسئلة (مستخرجة من الملف المرفق)
    const mcqQuestions = [
        // التكاليف (الصفحات 1-3)
        { q: "التكاليف التي يتم دفعها بغض النظر عن حجم الإنتاج تسمى:", options: ["التكاليف المتغيرة", "التكاليف الثابتة", "التكاليف الحدية", "تكلفة الفرصة البديلة"], a: 1 },
        { q: "عند مستوى إنتاج صفر، تكون التكاليف المتغيرة (VC) مساوية لـ:", options: ["التكاليف الثابتة", "صفر", "التكاليف الكلية", "100"], a: 1 },
        { q: "المعادلة الصحيحة لحساب التكاليف الكلية (TC) هي:", options: ["TC = FC - VC", "TC = FC * VC", "TC = FC + VC", "TC = TR - TC"], a: 2 },
        { q: "إذا كان حجم الإنتاج صفراً، فإن التكاليف الكلية تساوي:", options: ["صفر", "التكاليف المتغيرة", "التكاليف الثابتة", "الإيراد الكلي"], a: 2 },
        { q: "قانون الإيراد الكلي (TR) هو:", options: ["السعر × الكمية", "التكلفة الثابتة + المتغيرة", "السعر ÷ الكمية", "الربح - التكلفة"], a: 0 },
        { q: "إذا كانت التكاليف الكلية 50 والتكاليف المتغيرة 10، فإن التكاليف الثابتة تساوي:", options: ["60", "40", "500", "5"], a: 1 },
        
        // المرونة (الصفحات 4-12)
        { q: "إذا كانت مرونة الطلب السعرية أكبر من 1 (Ed > 1)، فإن الطلب يكون:", options: ["غير مرن", "مرن", "أحادي المرونة", "عديم المرونة"], a: 1 },
        { q: "إذا كانت نتيجة مرونة الطلب التقاطعية موجبة (+)، فإن السلعتين:", options: ["مكملتان", "بديلتان", "مستقلتان", "رديئتان"], a: 1 },
        { q: "إذا كانت نتيجة مرونة الطلب التقاطعية سالبة (-)، فإن السلعتين:", options: ["مكملتان", "بديلتان", "عادية", "كمالية"], a: 0 },
        { q: "العلاقة بين نسبة الإنفاق من الدخل ومرونة الطلب هي علاقة:", options: ["عكسية", "طردية", "لا توجد علاقة", "ثابتة"], a: 1 },
        { q: "السلع التي ليس لها بدائل جيدة يكون الطلب عليها:", options: ["مرن جداً", "غير مرن نسبياً", "لانهائي المرونة", "متذبذب"], a: 1 },
        { q: "السلع الكمالية (الرفاهية) يكون الطلب عليها عادة:", options: ["غير مرن", "مرن", "عديم المرونة", "منخفض المرونة"], a: 1 },
        { q: "السلع الضرورية (مثل الدواء) يكون الطلب عليها:", options: ["مرن", "غير مرن", "تام المرونة", "مرن نسبياً"], a: 1 },
        { q: "في المدى الطويل، تكون درجة مرونة الطلب:", options: ["أقل مرونة", "أكثر مرونة", "ثابتة", "صفر"], a: 1 },
        { q: "عندما يكون معامل المرونة يساوي 1، يسمى الطلب:", options: ["مرن", "غير مرن", "أحادي (متكافئ) المرونة", "تام المرونة"], a: 2 },
        { q: "شكل منحنى الطلب عديم المرونة (Ed = 0) يكون:", options: ["أفقي تماماً", "عمودي تماماً", "منحدر لليمين", "منحدر لليسار"], a: 1 },
        { q: "شكل منحنى الطلب تام المرونة (لانهائي) يكون:", options: ["أفقي موازي للمحور السيني", "عمودي", "دائري", "محدب"], a: 0 },
        { q: "إذا ارتفع السعر بنسبة 20% وانخفضت الكمية المطلوبة بنسبة 40%، فإن المرونة تساوي:", options: ["0.5", "2", "1", "4"], a: 1 },
        
        // العرض (الصفحات 13-17)
        { q: "العلاقة بين السعر والكمية المعروضة هي علاقة:", options: ["عكسية", "طردية", "حيادية", "تبادلية"], a: 1 },
        { q: "ارتفاع مستوى التكنولوجيا يؤدي إلى:", options: ["زيادة العرض وانتقال المنحنى لليمين", "نقص العرض وانتقال المنحنى لليسار", "ثبات العرض", "انتقال منحنى الطلب"], a: 0 },
        { q: "فرض الضرائب على المنتجين يؤدي إلى:", options: ["زيادة العرض", "انتقال منحنى العرض لليمين", "نقص العرض وانتقال المنحنى لليسار", "لا يؤثر"], a: 2 },
        { q: "تقديم الإعانات للمنتجين يؤدي إلى:", options: ["نقص العرض", "زيادة العرض وانتقال المنحنى لليمين", "بقاء المنحنى ثابتاً", "زيادة التكاليف"], a: 1 },
        { q: "ارتفاع تكاليف الإنتاج (مثل أجور العمال) يؤدي إلى:", options: ["زيادة العرض", "نقص العرض", "زيادة الطلب", "ثبات السعر"], a: 1 },
        { q: "يسمى الجدول الذي يوضح الكميات التي يرغب المنتجون ببيعها عند أسعار مختلفة بـ:", options: ["جدول الطلب", "جدول العرض", "جدول المرونة", "جدول التكاليف"], a: 1 },
        
        // الطلب (الصفحات 18-23)
        { q: "القانون الذي ينص على وجود علاقة عكسية بين السعر والكمية المطلوبة هو:", options: ["قانون العرض", "قانون الطلب", "قانون تناقص الغلة", "قانون التكاليف"], a: 1 },
        { q: "السلع التي يقل الطلب عليها عند زيادة الدخل تسمى:", options: ["سلع عادية", "سلع كمالية", "سلع رديئة", "سلع بديلة"], a: 2 },
        { q: "السلع التي يزداد الطلب عليها عند زيادة الدخل تسمى:", options: ["سلع رديئة", "سلع عادية", "سلع مستقلة", "سلع مجانية"], a: 1 },
        { q: "إذا ارتفع سعر القهوة، فإن الطلب على الشاي (سلعة بديلة):", options: ["يقل", "يزداد", "يبقى ثابتاً", "يصبح صفراً"], a: 1 },
        { q: "إذا ارتفع سعر السيارات، فإن الطلب على البنزين (سلعة مكملة):", options: ["يزداد", "يقل", "لا يتأثر", "ينتقل لليمين"], a: 1 },
        { q: "التغير في 'الكمية المطلوبة' يحدث بسبب تغير:", options: ["الدخل", "الأذواق", "السعر فقط", "عدد السكان"], a: 2 },
        { q: "التغير في 'الطلب' (انتقال المنحنى) يحدث بسبب تغير:", options: ["السعر فقط", "العوامل الأخرى غير السعر", "التكاليف الثابتة", "قانون العرض"], a: 1 },
        { q: "شكل منحنى الطلب ينحدر من:", options: ["الأعلى إلى الأسفل نحو اليمين", "الأسفل إلى الأعلى", "أفقي", "عمودي"], a: 0 },
        
        // توازن السوق (الصفحات 20-24)
        { q: "يتحقق توازن السوق عندما:", options: ["الكمية المطلوبة > الكمية المعروضة", "الكمية المطلوبة < الكمية المعروضة", "الكمية المطلوبة = الكمية المعروضة", "السعر = التكلفة"], a: 2 },
        { q: "إذا كان السعر أعلى من سعر التوازن، يحدث:", options: ["عجز", "فائض", "توازن", "إفلاس"], a: 1 },
        { q: "إذا كان السعر أقل من سعر التوازن، يحدث:", options: ["فائض", "عجز (نقص)", "تشبع", "تضخم"], a: 1 },
        
        // المشكلة الاقتصادية والأنظمة (الصفحات 26-33)
        { q: "جوهر المشكلة الاقتصادية هو:", options: ["وفرة الموارد", "الندرة وتعدد الحاجات", "انخفاض الأسعار", "زيادة الرواتب"], a: 1 },
        { q: "عناصر المشكلة الاقتصادية هي:", options: ["الندرة، الاختيار، التضحية", "المال، العمل، الأرض", "العرض، الطلب، السعر", "التضخم، البطالة، النمو"], a: 0 },
        { q: "النظام الذي يعتمد على الملكية الخاصة وحافز الربح هو:", options: ["النظام الاشتراكي", "النظام الرأسمالي", "النظام المختلط", "النظام الإسلامي"], a: 1 },
        { q: "النظام الذي تكون فيه الدولة متدخلة وتملك عناصر الإنتاج هو:", options: ["النظام الرأسمالي", "النظام الاشتراكي", "السوق الحر", "المنافسة الكاملة"], a: 1 },
        { q: "في النظام الإسلامي، الملكية:", options: ["عامة فقط", "خاصة فقط", "تجمع بين العامة والخاصة", "محرمة"], a: 2 },
        { q: "من خصائص منحنى إمكانيات الإنتاج (PPF) أنه:", options: ["محدب وتكلفة الفرصة متزايدة", "مقعر وتكلفة الفرصة ثابتة", "خط مستقيم", "دائري"], a: 0 },
        { q: "النقطة التي تقع خارج منحنى إمكانيات الإنتاج تعتبر:", options: ["ممكنة وذات كفاءة", "ممكنة ولكن غير كفؤة", "غير ممكنة حالياً", "نقطة توازن"], a: 2 },
        { q: "النقطة التي تقع داخل منحنى إمكانيات الإنتاج تعني:", options: ["كفاءة تامة", "استغلال أمثل للموارد", "بطالة أو سوء استغلال للموارد", "نمو اقتصادي"], a: 2 },
        { q: "عائد عنصر الإنتاج 'الأرض' يسمى:", options: ["أجر", "ريع (إيجار)", "فائدة", "ربح"], a: 1 },
        { q: "عائد عنصر الإنتاج 'العمل' يسمى:", options: ["أجر", "ريع", "ربح", "فائدة"], a: 0 },
        { q: "عائد عنصر الإنتاج 'رأس المال' يسمى:", options: ["أجر", "فائدة", "ربح", "ريع"], a: 1 },
        { q: "عائد عنصر الإنتاج 'التنظيم' يسمى:", options: ["الربح", "الفائدة", "الراتب", "العمولة"], a: 0 },
        { q: "علم الاقتصاد الذي يدرس الوحدات الفردية يسمى:", options: ["الاقتصاد الكلي", "الاقتصاد الجزئي", "الاقتصاد الدولي", "الاقتصاد القياسي"], a: 1 },
        { q: "الموارد الاقتصادية تتصف بأنها:", options: ["موجودة بكثرة مجانية", "نادرة ومحدودة ولها ثمن", "غير مفيدة", "دائمة"], a: 1 },
        { q: "تزايد النمو الاقتصادي يؤدي إلى انتقال منحنى إمكانيات الإنتاج إلى:", options: ["اليسار", "اليمين", "الأسفل", "الداخل"], a: 1 },
        { q: "مرونة العرض السعرية تقيس استجابة:", options: ["الكمية المطلوبة للسعر", "الكمية المعروضة للسعر", "الدخل للكمية", "السعر للتكاليف"], a: 1 },
        { q: "أي مما يلي يعتبر من محددات العرض؟", options: ["ذوق المستهلك", "عدد البائعين", "دخل المستهلك", "أسعار السلع البديلة (في الطلب)"], a: 1 },
        { q: "أي مما يلي يعتبر من محددات الطلب؟", options: ["توقعات المنتجين", "التكنولوجيا", "عدد المستهلكين", "الضرائب على الإنتاج"], a: 2 },
        { q: "الربح يساوي:", options: ["TR + TC", "TR - TC", "TC - TR", "FC + VC"], a: 1 },
        { q: "ميل منحنى العرض يكون:", options: ["سالباً", "موجباً", "صفراً", "غير معرف"], a: 1 },
        { q: "ميل منحنى الطلب يكون:", options: ["سالباً", "موجباً", "عمودياً", "دائرياً"], a: 0 },
        { q: "في حالة الطلب متكافئ المرونة، التغير في السعر يساوي:", options: ["ضعف التغير في الكمية", "نصف التغير في الكمية", "التغير في الكمية", "صفر"], a: 2 },
        { q: "مثال على سلعة طلبها غير مرن:", options: ["العطور", "الملح / الدواء", "السيارات الفارهة", "الأثاث"], a: 1 },
        { q: "توقعات ارتفاع الأسعار مستقبلاً تؤدي حالياً إلى:", options: ["زيادة الطلب", "نقص الطلب", "نقص العرض", "ثبات السوق"], a: 0 },
        { q: "تعريف الندرة هو:", options: ["عدم وجود المورد نهائياً", "الموارد موجودة ولكن غير كافية للحاجات", "انخفاض الأسعار", "توفر السلع للجميع"], a: 1 },
        { q: "عنصر 'رأس المال' يشمل:", options: ["النقود فقط", "الآلات والمعدات والمباني", "العمال", "الأراضي الزراعية"], a: 1 }
    ];

    const essayQuestions = [
        { q: "عرف التكاليف الثابتة والتكاليف المتغيرة مع ذكر مثال لكل منهما.", a: "التكاليف الثابتة: هي مبالغ يتم دفعها بغض النظر عن حجم الإنتاج (حتى لو كان صفر) مثل الإيجار. التكاليف المتغيرة: هي التكاليف التي تتغير بتغير حجم الإنتاج مثل مواد الخام." },
        { q: "اذكر قانون التكاليف الكلية (TC) وقانون الربح.", a: "التكاليف الكلية (TC) = التكاليف الثابتة (FC) + التكاليف المتغيرة (VC). الربح = الإيراد الكلي (TR) - التكاليف الكلية (TC)." },
        { q: "ما الفرق بين التغير في 'الطلب' والتغير في 'الكمية المطلوبة'؟", a: "التغير في الكمية المطلوبة: يحدث بسبب تغير السعر فقط ويكون بالانتقال من نقطة لأخرى على نفس المنحنى. التغير في الطلب: يحدث بسبب العوامل الأخرى (الدخل، الذوق، إلخ) ويؤدي لانتقال المنحنى كاملاً لليمين أو اليسار." },
        { q: "عدد ثلاث حالات تكون فيها مرونة الطلب السعرية 'غير مرنة'.", a: "1. السلع الضرورية (ليس لها بدائل). 2. السلع التي تشكل نسبة قليلة من الدخل (مثل الملح). 3. في المدى القصير." },
        { q: "اشرح العلاقة بين الدخل ونوع السلعة (عادية ورديئة).", a: "علاقة طردية مع السلع العادية (يزيد الدخل فيزيد الطلب). علاقة عكسية مع السلع الرديئة (يزيد الدخل فيقل الطلب عليها)." },
        { q: "كيف يؤثر التطور التكنولوجي على منحنى العرض؟ مع التوضيح.", a: "يؤدي التطور التكنولوجي إلى زيادة الإنتاج وتقليل التكلفة، مما يزيد العرض وينقل منحنى العرض إلى جهة اليمين." },
        { q: "ماذا يعني أن مرونة الطلب التقاطعية موجبة؟", a: "يعني أن السلعتين بديلتان (مثل الشاي والقهوة)، ارتفاع سعر الأولى يؤدي لزيادة الطلب على الثانية." },
        { q: "عدد خصائص النظام الرأسمالي.", a: "1. الملكية الخاصة. 2. حافز الربح. 3. حرية الأسعار (آلية السوق). 4. عدم تدخل الدولة (الدولة الحيادية)." },
        { q: "ما هي أركان المشكلة الاقتصادية؟", a: "1. الندرة (ندرة الموارد). 2. الاختيار. 3. التضحية (تكلفة الفرصة البديلة)." },
        { q: "عرف منحنى إمكانيات الإنتاج (PPF).", a: "هو منحنى يوضح أقصى كمية ممكن إنتاجها من سلعتين في المجتمع عند استخدام جميع الموارد المتاحة بكفاءة تامة." },
        { q: "لماذا ينحدر منحنى الطلب من الأعلى للأسفل (ميل سالب)؟", a: "بسبب العلاقة العكسية بين السعر والكمية المطلوبة، وتناقص المنفعة الحدية." },
        { q: "ما الفرق بين السلع البديلة والسلع المكملة؟", a: "السلع البديلة: تحل محل بعضها (لحم ودجاج). السلع المكملة: تستهلك مع بعضها (سيارة وبنزين)." },
        { q: "ما هو تأثير فرض ضرائب جديدة على المنتجين؟", a: "تعتبر زيادة في تكاليف الإنتاج، مما يؤدي لنقص العرض وانتقال منحنى العرض لليسار." },
        { q: "اشرح مفهوم 'سعر التوازن'.", a: "هو السعر الذي تتساوى عنده الكمية المطلوبة مع الكمية المعروضة، ولا يوجد فائض أو عجز في السوق." },
        { q: "ما هي عناصر الإنتاج الأربعة وما هي عوائدها؟", a: "1. الأرض (ريع). 2. العمل (أجر). 3. رأس المال (فائدة). 4. التنظيم (ربح)." },
        { q: "ماذا يحدث في السوق إذا تم تحديد سعر أقل من سعر التوازن؟", a: "يحدث عجز (نقص) في السلعة، لأن الكمية المطلوبة تصبح أكبر من الكمية المعروضة." },
        { q: "عرف مرونة العرض السعرية.", a: "هي درجة استجابة الكمية المعروضة للتغير في سعر السلعة." },
        { q: "ما الفرق بين النظام الإسلامي والأنظمة الأخرى في الملكية؟", a: "النظام الإسلامي يجمع بين الملكية العامة والخاصة (ملكية مزدوجة) ولا يلغي أحدهما." },
        { q: "كيف يؤثر الزمن (المدى الطويل والقصير) على المرونة؟", a: "في المدى القصير يكون الطلب أقل مرونة (صعوبة تغيير العادات). في المدى الطويل يزداد الطلب مرونة (توفر بدائل وتغير عادات)." },
        { q: "ما هي السلعة 'الكمالية' وعلاقتها بالمرونة؟", a: "هي سلع الرفاهية، ويكون الطلب عليها مرن جداً (حساس للسعر) ويمكن الاستغناء عنها." }
    ];

    // دالة عرض أسئلة الاختيار من متعدد
    function renderMCQ() {
        const container = document.getElementById('mcq-container');
        let html = '';
        mcqQuestions.forEach((q, index) => {
            html += `
                <div class="question-card" id="q${index}">
                    <div class="question-text">${index + 1}. ${q.q}</div>
                    <div class="options">
                        ${q.options.map((opt, i) => `
                            <label>
                                <input type="radio" name="q${index}" value="${i}">
                                ${opt}
                            </label>
                        `).join('')}
                    </div>
                    <div class="feedback" id="feedback${index}" style="margin-top:10px; font-weight:bold;"></div>
                </div>
            `;
        });
        container.innerHTML = html;
    }

    // دالة عرض الأسئلة المقالية
    function renderEssay() {
        const container = document.getElementById('essay-container');
        let html = '';
        essayQuestions.forEach((q, index) => {
            html += `
                <div class="question-card">
                    <div class="question-text">س${index + 1}: ${q.q}</div>
                    <button class="btn btn-toggle" onclick="toggleAnswer('essay-ans-${index}')">عرض الإجابة النموذجية</button>
                    <div id="essay-ans-${index}" class="essay-answer">
                        <strong>الإجابة:</strong> ${q.a}
                    </div>
                </div>
            `;
        });
        container.innerHTML = html;
    }

    // تبديل التبويبات
    function showTab(tabId) {
        document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
        event.target.classList.add('active');
    }

    // إظهار إجابات المقالي
    function toggleAnswer(id) {
        const el = document.getElementById(id);
        el.style.display = (el.style.display === 'block') ? 'none' : 'block';
    }

    // تصحيح الاختبار
    function gradeQuiz() {
        let score = 0;
        mcqQuestions.forEach((q, index) => {
            const selected = document.querySelector(`input[name="q${index}"]:checked`);
            const feedback = document.getElementById(`feedback${index}`);
            
            if (selected) {
                if (parseInt(selected.value) === q.a) {
                    score++;
                    feedback.innerHTML = '<span class="correct">✔ إجابة صحيحة</span>';
                    feedback.style.color = 'green';
                } else {
                    feedback.innerHTML = `<span class="incorrect">✘ إجابة خاطئة. الإجابة الصحيحة هي: ${q.options[q.a]}</span>`;
                    feedback.style.color = 'red';
                }
            } else {
                feedback.innerHTML = `<span class="incorrect">لم يتم الإجابة. الإجابة الصحيحة هي: ${q.options[q.a]}</span>`;
            }
        });
        
        const resultBox = document.getElementById('result');
        resultBox.style.display = 'block';
        resultBox.innerHTML = `نتيجتك: ${score} من ${mcqQuestions.length}`;
        resultBox.style.background = score >= (mcqQuestions.length / 2) ? '#d4edda' : '#f8d7da';
        resultBox.style.color = score >= (mcqQuestions.length / 2) ? '#155724' : '#721c24';
        
        window.scrollTo(0, 0);
    }

    // التشغيل عند التحميل
    renderMCQ();
    renderEssay();
</script>

</body>
</html>